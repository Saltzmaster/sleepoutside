import{S as w,i as z,s as P,e as i,f,t as p,a as j,b as J,k as e,l as Z,m as T,n as $,d as v,g as G,G as A,H as B,I as K,o as Q,J as R,r as U}from"./utils-QdhfMUCY.js";import{s as V}from"./productData-BCPXBWLg.js";function W(u){let a,n,d,o,c,t,b,g,h,x,S,C,m,l,r,q,I,F,k,O,N,D,E,H,M,L,_;return{c(){a=i("form"),n=i("fieldset"),n.innerHTML='<legend>Shipping</legend> <label for="first-name">First Name</label> <input type="text" name="fname" id="first-name" placeholder="First Name" required=""/> <label for="last-name">Last Name</label> <input type="text" name="lname" id="last-name" placeholder="Last Name" required=""/> <label for="street">Street</label> <input type="text" name="street" id="street" placeholder="Street" required=""/> <label for="city">City</label> <input type="text" name="city" id="city" placeholder="City" required=""/> <label for="state">State</label> <input type="text" name="state" id="state" placeholder="State" required=""/> <label for="zip">Zip</label> <input type="text" name="zip" id="zip" placeholder="Zip" required=""/>',d=f(),o=i("fieldset"),o.innerHTML='<legend>Payment</legend> <label for="card-number">Card Number</label> <input type="text" name="cardNumber" id="card-number" placeholder="Card Number" required=""/> <label for="expiration">Expiration</label> <input type="text" name="expiration" id="expiration" placeholder="Expiration" required=""/> <label for="security-code">Security Code</label> <input type="text" name="code" id="security-code" placeholder="Security Code" required=""/>',c=f(),t=i("fieldset"),b=i("legend"),b.textContent="Order Summary",g=f(),h=i("p"),x=p("Item Subtotal: $"),S=p(u[1]),C=f(),m=i("p"),l=p("Shipping Estimate: $"),r=p(u[2]),q=f(),I=i("p"),F=p("Tax: $"),k=p(u[0]),O=f(),N=i("p"),D=p("Order Total: $"),E=p(u[3]),H=f(),M=i("button"),M.textContent="Place Order",j(M,"type","submit")},m(s,y){J(s,a,y),e(a,n),e(a,d),e(a,o),e(a,c),e(a,t),e(t,b),e(t,g),e(t,h),e(h,x),e(h,S),e(t,C),e(t,m),e(m,l),e(m,r),e(t,q),e(t,I),e(I,F),e(I,k),e(t,O),e(t,N),e(N,D),e(N,E),e(a,H),e(a,M),L||(_=Z(a,"submit",u[4]),L=!0)},p(s,[y]){y&2&&T(S,s[1]),y&4&&T(r,s[2]),y&1&&T(k,s[0]),y&8&&T(E,s[3])},i:$,o:$,d(s){s&&v(a),L=!1,_()}}}function X(u,a,n){let d=0,o=0,c=0,t=0,b=0,g=[];function h(){g=G("so-cart"),x()}function x(){b=A(),n(1,o=B()),n(2,c=Math.round(10+(b-1)*2,2)),n(0,d=Math.round(o*.06,2)),n(3,t=Math.round(o+d+c,2))}const S=function(m){return m.map(r=>({id:r.Id,price:r.FinalPrice,name:r.Name,quantity:1}))};async function C(m){event.preventDefault();const l=K(this);l.orderDate=new Date,l.orderTotal=`${t}`,l.tax=`${d}`,l.shipping=c,l.items=S(g),console.log("ITEMS: ",l);try{const r=await V(l);console.log(r),location.assign("/checkout/success.html"),Q("so-cart",[])}catch(r){Object.values(r.message).forEach(q=>R(q))}}return h(),[d,o,c,t,C]}class Y extends w{constructor(a){super(),z(this,a,X,W,P,{})}}U();new Y({target:document.querySelector("#checkout-form"),props:{key:"so-cart"}});
